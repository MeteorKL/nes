!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("nesEmulator",[],r):"object"==typeof exports?exports.nesEmulator=r():t.nesEmulator=r()}(this,function(){return function(t){function r(n){if(i[n])return i[n].exports;var e=i[n]={exports:{},id:n,loaded:!1};return t[n].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var i={};return r.m=t,r.c=i,r.p="/js/",r(0)}([function(t,r,i){t.exports={NES:i(1),CPU:i(3)}},function(t,r,i){var n=i(2),e=i(3),o=function(){this.cpu=new e};o.prototype={load:function(t){this.ines=new n,this.ines.load(t)}},t.exports=o},function(t,r){var i=function(){this.rpgRom=null,this.chrRom=null,this.mapperType=null,this.mirroring=null,this.batteryRam=null};i.prototype={HORIZONTAL_MIRRORING:0,VERTICAL_MIRRORING:1,FOURSCREEN_MIRRORING:2,load:function(t){for(var r=new Array(16),i=0;i<16;i++)r[i]=255&t.charCodeAt(i);if(78!==r[0]||69!==r[1]||83!==r[2]||26!==r[3])throw new Error("Not a valid iNES file.");var n=r[4],e=r[5],o=r[6];this.mirroring=1&o,8&o&&(this.mirroring=this.FOURSCREEN_MIRRORING),this.batteryRam=0!==(2&o);var s=r[7];this.mapperType=240&s|o>>4;for(var i=(r[8],9);i<16;i++)if(0!==r[i])throw new Error("Reserved for future usage and should all be 0.");this.rpgRom=new Array(n);for(var h=16,i=0;i<n;i++){this.rpgRom[i]=new Array(16384);for(var u=0;u<16384&&!(h+u>=t.length);u++)this.rpgRom[i][u]=255&t.charCodeAt(h+u);h+=16384}for(this.chrRom=new Array(e),i=0;i<e;i++){for(this.chrRom[i]=new Array(4096),u=0;u<4096&&!(h+u>=t.length);u++)this.chrRom[i][u]=255&t.charCodeAt(h+u);h+=4096}}},t.exports=i},function(t,r,i){i(4),i(6),t.exports=i(5)},function(t,r,i){var n=i(5);n.read=function(){},n.write=function(){},n.read16=function(t){return this.read(t)<<8|this.read(t)<<8},n.push=function(t){this.Write(256|this.SP,t),this.SP--},n.pull=function(){return this.SP++,this.Read(256|this.SP)}},function(t,r){var i=function(){};i.prototype={interruptNone:0,interruptNMI:1,interruptIRQ:2,reset:function(){this.PC=this.read16(65532),this.SP=253,this.setFlags(36)}},t.exports=i},function(t,r,i){var n=i(5);n.flags=function(){return this.N<<7|this.V<<6|this.U<<5|this.B<<4|this.D<<3|this.I<<2|this.Z<<1|this.C<<0},n.setFlags=function(t){this.C=t>>0&1,this.Z=t>>1&1,this.I=t>>2&1,this.D=t>>3&1,this.B=t>>4&1,this.U=t>>5&1,this.V=t>>6&1,this.N=t>>7&1},n.setZ=function(t){this.Z=0===t},n.setN=function(t){this.N=t&!0},n.setZN=function(t){this.setZ(t),this.setN(t)}}])});